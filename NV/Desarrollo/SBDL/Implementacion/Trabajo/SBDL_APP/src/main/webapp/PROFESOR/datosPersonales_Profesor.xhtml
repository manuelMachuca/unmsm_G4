<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/PLANTILLA/Plantilla_Profesor.xhtml">
	<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">
		<style>
.output {
	
}
</style>
		<h:form id="principal" enctype="multipart/form-data">
			<p:growl id="growl" sticky="true" showDetail="true" />
			<p:fieldset>
				<p:panelGrid columns="3">


					<p:panelGrid columns="3">
						<p:panelGrid columns="3">
							<p:outputLabel value="Apellidos:"></p:outputLabel>
							<p:inputText styleClass="grande" size="30"
								value="#{cActualizarDatPersProfesor.persona.apellidos}"></p:inputText>
							<p:spacer></p:spacer>

							<p:outputLabel value="Nombres" styleClass="grande"></p:outputLabel>
							<p:inputText
								value="#{cActualizarDatPersProfesor.persona.nombres}" size="30"
								styleClass="grande"></p:inputText>
							<p:spacer></p:spacer>

							<p:outputLabel for="mask" value="Fecha de Nacimiento:"></p:outputLabel>
							<p:calendar id="mask" pattern="dd-MM-yyyy" mask="true"
								value="#{cActualizarDatPersProfesor.persona.fechaNac}"></p:calendar>
							<p:spacer></p:spacer>

							<p:outputLabel value="Direccion:"></p:outputLabel>
							<p:inputText
								value="#{cActualizarDatPersProfesor.persona.direccion}"
								size="50"></p:inputText>
							<p:spacer></p:spacer>

							<p:outputLabel value="Telefono:"></p:outputLabel>
							<p:inputText mask="999999999" placeholder="Telefono"
								maxlength="9" class="input-lg"
								value="#{cActualizarDatPersProfesor.persona.telefono}"></p:inputText>
							<p:spacer></p:spacer>

							<p:outputLabel value="Correo Electronico:"></p:outputLabel>
							<p:inputText
								value="#{cActualizarDatPersProfesor.persona.correoelectronico}"
								style="background-color:yellow" readonly="true" size="35"></p:inputText>
							<p:spacer></p:spacer>

							<p:commandButton value="Actualizar Datos"
								actionListener="#{cActualizarDatPersProfesor.actualizarProfesor()}"
								update=":principal"></p:commandButton>
						</p:panelGrid>




						<p:commandButton image="ui-icon-circle-plus" title="Subir Foto"
							value="SUBIR FOTO" onclick="PF('datosPersonaleswidget').show();"
							process="@this">
							<!-- 														<p:resetInput target="imgPanelfoto" /> -->
						</p:commandButton>

					</p:panelGrid>




					<!-- 					DIALOGO PARA SUBIR IMAGEN -->
					<p:dialog header="Subir archivos" widgetVar="datosPersonaleswidget">

						<p:outputPanel id="imgPanelfoto" style="float: center;">
							<p:graphicImage width="200" height="320"
								value="#{imageController.imagen}" id="ima"
								cache="false">
								<f:param value="#{cActualizarDatPersProfesor.persona.idpersona}"
									name="photo_id"></f:param>
							</p:graphicImage>
						</p:outputPanel>

						<p:fileUpload fileLimitMessage="Imagen muy grande"
							fileLimit="100000" oncomplete="datosPersonaleswidget.hide()"
							invalidSizeMessage="Imagen muy grande [Tamaño máximo: 3000KB]"
							sizeLimit="3000000" invalidFileMessage="Tipo de imagen inválido"
							fileUploadListener="#{cActualizarDatPersProfesor.handlefileupload}"
							uploadLabel="Guardar Foto" label="Elegir" cancelLabel="Cancelar"
							mode="advanced" dragDropSupport="false"
							allowTypes="/(\.|\/)(gif|jpe?g|png)$/" update=":principal">
						</p:fileUpload>
					</p:dialog>
				</p:panelGrid>
			</p:fieldset>

			<br />
		</h:form>
	</ui:define>
</ui:composition>